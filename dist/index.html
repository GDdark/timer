<!DOCTYPE html>
<html>
  <head>
    <style>
      body { font-family: Tahoma, Geneva, sans-serif; }
    </style>
    <script type="text/javascript" src="clock-timer.js"></script>
  </head>
  <body>
    <h1>clock-timer.js</h1>

    <div id="messages"></div>

    <script type="text/javascript">
      var Klass = function() {
        this.scope = true
        this.method = function() {
          console.log("Keeping scope?", this.scope)
        }
      }
      var instance = new Klass()

      var clock = new ClockTimer()
      clock.setInterval(function(arg1){ console.log("1 sec", arg1) }, 1000, "passed")
      var timeout = clock.setTimeout(function(){ console.log("5 seconds timeout") }, 5000)
      var interval = clock.setInterval(function(arg1){
        console.log("5 seconds timeout is active?", timeout.active)
        if (!timeout.active) { this.clear() }
      }, 2000)

      clock.setTimeout( instance.method.bind(instance), 500 )

      setInterval(() => { clock.tick() }, 1000 / 60)
    </script>

  </body>
</html>

